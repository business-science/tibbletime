<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Time-based filtering • tibbletime</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Time-based filtering">
<meta property="og:description" content="tibbletime">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-76139189-2"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-76139189-2');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tibbletime</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.6.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">Home</a>
</li>
<li>
  <a href="../reference/index.html">Function Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/TT-01-time-based-filtering.html">Time-based filtering</a>
    </li>
    <li>
      <a href="../articles/TT-02-changing-time-periods.html">Changing periodicity</a>
    </li>
    <li>
      <a href="../articles/TT-03-rollify-for-rolling-analysis.html">Rolling calculations in tibbletime</a>
    </li>
    <li>
      <a href="../articles/TT-04-use-with-dplyr.html">Using tibbletime with dplyr</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/business-science/tibbletime" class="external-link">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Time-based filtering</h1>
                        <h4 data-toc-skip class="author">Davis
Vaughan</h4>
            
            <h4 data-toc-skip class="date">2022-10-28</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/business-science/tibbletime/blob/HEAD/vignettes/TT-01-time-based-filtering.Rmd" class="external-link"><code>vignettes/TT-01-time-based-filtering.Rmd</code></a></small>
      <div class="hidden name"><code>TT-01-time-based-filtering.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="introducing-filter_time">Introducing filter_time()<a class="anchor" aria-label="anchor" href="#introducing-filter_time"></a>
</h2>
<p><code><a href="../reference/filter_time.html">filter_time()</a></code> attempts to make filtering data frames by
date much easier than <code><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">dplyr::filter()</a></code>. It includes a
flexible shorthand notation that allows you to specify entire date
ranges with very little typing. The general form of the
<code>time_formula</code> that you will use to filter rows is
<code>from ~ to</code>, where the left hand side (LHS) is the character
start date, and the right hand side (RHS) is the character end date.
Both endpoints are included in the result. Each side of the
<code>time_formula</code> can be maximally specified as the character
<code>'YYYY-MM-DD HH:MM:SS'</code>.</p>
<div class="section level3">
<h3 id="datasets-required">Datasets required<a class="anchor" aria-label="anchor" href="#datasets-required"></a>
</h3>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/business-science/tibbletime" class="external-link">tibbletime</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Facebook stock prices.</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">FB</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Convert FB to tbl_time</span></span>
<span><span class="va">FB</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/tbl_time.html">as_tbl_time</a></span><span class="op">(</span><span class="va">FB</span>, index <span class="op">=</span> <span class="va">date</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># FANG stock prices</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">FANG</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Convert FANG to tbl_time and group</span></span>
<span><span class="va">FANG</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/tbl_time.html">as_tbl_time</a></span><span class="op">(</span><span class="va">FANG</span>, index <span class="op">=</span> <span class="va">date</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">symbol</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="year-filtering-example">Year filtering example<a class="anchor" aria-label="anchor" href="#year-filtering-example"></a>
</h3>
<p>In <code>dplyr</code>, if you wanted to get the dates for
<code>2013</code> in the <code>FB</code> dataset, you might do something
like this:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">FB</span>, <span class="va">date</span> <span class="op">&gt;=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2013-01-01"</span><span class="op">)</span>, <span class="va">date</span> <span class="op">&lt;=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2013-12-31"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A time tibble: 252 × 8</span></span></span>
<span><span class="co">## <span style="color: #949494;"># Index:         date</span></span></span>
<span><span class="co">##    symbol date        open  high   low close    volume adjusted</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> FB     2013-01-02  27.4  28.2  27.4  28    69<span style="text-decoration: underline;">846</span>400     28  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> FB     2013-01-03  27.9  28.5  27.6  27.8  63<span style="text-decoration: underline;">140</span>600     27.8</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> FB     2013-01-04  28.0  28.9  27.8  28.8  72<span style="text-decoration: underline;">715</span>400     28.8</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> FB     2013-01-07  28.7  29.8  28.6  29.4  83<span style="text-decoration: underline;">781</span>800     29.4</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> FB     2013-01-08  29.5  29.6  28.9  29.1  45<span style="text-decoration: underline;">871</span>300     29.1</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> FB     2013-01-09  29.7  30.6  29.5  30.6 104<span style="text-decoration: underline;">787</span>700     30.6</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> FB     2013-01-10  30.6  31.5  30.3  31.3  95<span style="text-decoration: underline;">316</span>400     31.3</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> FB     2013-01-11  31.3  32.0  31.1  31.7  89<span style="text-decoration: underline;">598</span>000     31.7</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> FB     2013-01-14  32.1  32.2  30.6  31.0  98<span style="text-decoration: underline;">892</span>800     31.0</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> FB     2013-01-15  30.6  31.7  29.9  30.1 173<span style="text-decoration: underline;">242</span>600     30.1</span></span>
<span><span class="co">## <span style="color: #949494;"># … with 242 more rows</span></span></span></code></pre>
<p>That’s a lot of typing for one filter step. With
<code>tibbletime</code>, because the <code>index</code> was specified at
creation, we can do this:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/filter_time.html">filter_time</a></span><span class="op">(</span><span class="va">FB</span>, time_formula <span class="op">=</span> <span class="st">'2013-01-01'</span> <span class="op">~</span> <span class="st">'2013-12-31'</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A time tibble: 252 × 8</span></span></span>
<span><span class="co">## <span style="color: #949494;"># Index:         date</span></span></span>
<span><span class="co">##    symbol date        open  high   low close    volume adjusted</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> FB     2013-01-02  27.4  28.2  27.4  28    69<span style="text-decoration: underline;">846</span>400     28  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> FB     2013-01-03  27.9  28.5  27.6  27.8  63<span style="text-decoration: underline;">140</span>600     27.8</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> FB     2013-01-04  28.0  28.9  27.8  28.8  72<span style="text-decoration: underline;">715</span>400     28.8</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> FB     2013-01-07  28.7  29.8  28.6  29.4  83<span style="text-decoration: underline;">781</span>800     29.4</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> FB     2013-01-08  29.5  29.6  28.9  29.1  45<span style="text-decoration: underline;">871</span>300     29.1</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> FB     2013-01-09  29.7  30.6  29.5  30.6 104<span style="text-decoration: underline;">787</span>700     30.6</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> FB     2013-01-10  30.6  31.5  30.3  31.3  95<span style="text-decoration: underline;">316</span>400     31.3</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> FB     2013-01-11  31.3  32.0  31.1  31.7  89<span style="text-decoration: underline;">598</span>000     31.7</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> FB     2013-01-14  32.1  32.2  30.6  31.0  98<span style="text-decoration: underline;">892</span>800     31.0</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> FB     2013-01-15  30.6  31.7  29.9  30.1 173<span style="text-decoration: underline;">242</span>600     30.1</span></span>
<span><span class="co">## <span style="color: #949494;"># … with 242 more rows</span></span></span></code></pre>
<p>At first glance, this might not look like less code, but this is
before any shorthand is applied. Note how the filtering condition is
specified as a <code>formula</code> separated by a <code>~</code>.</p>
<p>Using <code>filter_time</code> shorthand, this can be written:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/filter_time.html">filter_time</a></span><span class="op">(</span><span class="va">FB</span>, <span class="st">'2013'</span> <span class="op">~</span> <span class="st">'2013'</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A time tibble: 252 × 8</span></span></span>
<span><span class="co">## <span style="color: #949494;"># Index:         date</span></span></span>
<span><span class="co">##    symbol date        open  high   low close    volume adjusted</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> FB     2013-01-02  27.4  28.2  27.4  28    69<span style="text-decoration: underline;">846</span>400     28  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> FB     2013-01-03  27.9  28.5  27.6  27.8  63<span style="text-decoration: underline;">140</span>600     27.8</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> FB     2013-01-04  28.0  28.9  27.8  28.8  72<span style="text-decoration: underline;">715</span>400     28.8</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> FB     2013-01-07  28.7  29.8  28.6  29.4  83<span style="text-decoration: underline;">781</span>800     29.4</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> FB     2013-01-08  29.5  29.6  28.9  29.1  45<span style="text-decoration: underline;">871</span>300     29.1</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> FB     2013-01-09  29.7  30.6  29.5  30.6 104<span style="text-decoration: underline;">787</span>700     30.6</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> FB     2013-01-10  30.6  31.5  30.3  31.3  95<span style="text-decoration: underline;">316</span>400     31.3</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> FB     2013-01-11  31.3  32.0  31.1  31.7  89<span style="text-decoration: underline;">598</span>000     31.7</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> FB     2013-01-14  32.1  32.2  30.6  31.0  98<span style="text-decoration: underline;">892</span>800     31.0</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> FB     2013-01-15  30.6  31.7  29.9  30.1 173<span style="text-decoration: underline;">242</span>600     30.1</span></span>
<span><span class="co">## <span style="color: #949494;"># … with 242 more rows</span></span></span></code></pre>
<p>Or even more succinctly as:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/filter_time.html">filter_time</a></span><span class="op">(</span><span class="va">FB</span>, <span class="op">~</span><span class="st">'2013'</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A time tibble: 252 × 8</span></span></span>
<span><span class="co">## <span style="color: #949494;"># Index:         date</span></span></span>
<span><span class="co">##    symbol date        open  high   low close    volume adjusted</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> FB     2013-01-02  27.4  28.2  27.4  28    69<span style="text-decoration: underline;">846</span>400     28  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> FB     2013-01-03  27.9  28.5  27.6  27.8  63<span style="text-decoration: underline;">140</span>600     27.8</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> FB     2013-01-04  28.0  28.9  27.8  28.8  72<span style="text-decoration: underline;">715</span>400     28.8</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> FB     2013-01-07  28.7  29.8  28.6  29.4  83<span style="text-decoration: underline;">781</span>800     29.4</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> FB     2013-01-08  29.5  29.6  28.9  29.1  45<span style="text-decoration: underline;">871</span>300     29.1</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> FB     2013-01-09  29.7  30.6  29.5  30.6 104<span style="text-decoration: underline;">787</span>700     30.6</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> FB     2013-01-10  30.6  31.5  30.3  31.3  95<span style="text-decoration: underline;">316</span>400     31.3</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> FB     2013-01-11  31.3  32.0  31.1  31.7  89<span style="text-decoration: underline;">598</span>000     31.7</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> FB     2013-01-14  32.1  32.2  30.6  31.0  98<span style="text-decoration: underline;">892</span>800     31.0</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> FB     2013-01-15  30.6  31.7  29.9  30.1 173<span style="text-decoration: underline;">242</span>600     30.1</span></span>
<span><span class="co">## <span style="color: #949494;"># … with 242 more rows</span></span></span></code></pre>
<p>The shorthand notation works as follows. In the first example,
<code>'2013' ~ '2013'</code> is expanded to
<code>'2013-01-01 + 00:00:00' ~ '2013-12-31 + 23:59:59'</code>. It works
by identifying the periodicity of the provided input (yearly), and
expanding it to the beginning and end of that period. The one sided
formula <code>~'2013'</code> works similarly, and is useful when you
want to select every date inside a period.</p>
</div>
<div class="section level3">
<h3 id="month-filtering-example">Month filtering example<a class="anchor" aria-label="anchor" href="#month-filtering-example"></a>
</h3>
<p>As another example of this shorthand, if you wanted to select every
date in March, 2015:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/filter_time.html">filter_time</a></span><span class="op">(</span><span class="va">FB</span>, <span class="op">~</span><span class="st">'2015-03'</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A time tibble: 22 × 8</span></span></span>
<span><span class="co">## <span style="color: #949494;"># Index:         date</span></span></span>
<span><span class="co">##    symbol date        open  high   low close   volume adjusted</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> FB     2015-03-02  79    79.9  78.5  79.8 21<span style="text-decoration: underline;">662</span>500     79.8</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> FB     2015-03-03  79.6  79.7  78.5  79.6 18<span style="text-decoration: underline;">635</span>000     79.6</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> FB     2015-03-04  79.3  81.2  78.8  80.9 28<span style="text-decoration: underline;">126</span>700     80.9</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> FB     2015-03-05  81.2  82.0  81.1  81.2 27<span style="text-decoration: underline;">825</span>700     81.2</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> FB     2015-03-06  80.9  81.3  79.8  80.0 24<span style="text-decoration: underline;">488</span>600     80.0</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> FB     2015-03-09  79.7  79.9  78.6  79.4 18<span style="text-decoration: underline;">925</span>100     79.4</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> FB     2015-03-10  78.5  79.3  77.6  77.6 23<span style="text-decoration: underline;">067</span>100     77.6</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> FB     2015-03-11  77.8  78.4  77.3  77.6 20<span style="text-decoration: underline;">215</span>700     77.6</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> FB     2015-03-12  78.1  79.1  77.9  78.9 16<span style="text-decoration: underline;">093</span>300     78.9</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> FB     2015-03-13  78.6  79.4  77.7  78.1 18<span style="text-decoration: underline;">557</span>300     78.1</span></span>
<span><span class="co">## <span style="color: #949494;"># … with 12 more rows</span></span></span></code></pre>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># In dplyr it looks like this</span></span>
<span><span class="co"># (and you have to think, does March have 30 or 31 days?)</span></span>
<span><span class="co"># filter(FB, date &gt;= as.Date("2015-03-01"), date &lt;= as.Date("2015-03-31"))</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="keywords">Keywords<a class="anchor" aria-label="anchor" href="#keywords"></a>
</h3>
<p>Two keywords are available to assist with filtering:</p>
<ul>
<li>
<code>'start'</code> - The start of the series</li>
<li>
<code>'end'</code> - The end of the series</li>
</ul>
<p>This filters from the start of the series to the end of 2015.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/filter_time.html">filter_time</a></span><span class="op">(</span><span class="va">FB</span>, <span class="st">'start'</span> <span class="op">~</span> <span class="st">'2015'</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A time tibble: 756 × 8</span></span></span>
<span><span class="co">## <span style="color: #949494;"># Index:         date</span></span></span>
<span><span class="co">##    symbol date        open  high   low close    volume adjusted</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> FB     2013-01-02  27.4  28.2  27.4  28    69<span style="text-decoration: underline;">846</span>400     28  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> FB     2013-01-03  27.9  28.5  27.6  27.8  63<span style="text-decoration: underline;">140</span>600     27.8</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> FB     2013-01-04  28.0  28.9  27.8  28.8  72<span style="text-decoration: underline;">715</span>400     28.8</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> FB     2013-01-07  28.7  29.8  28.6  29.4  83<span style="text-decoration: underline;">781</span>800     29.4</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> FB     2013-01-08  29.5  29.6  28.9  29.1  45<span style="text-decoration: underline;">871</span>300     29.1</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> FB     2013-01-09  29.7  30.6  29.5  30.6 104<span style="text-decoration: underline;">787</span>700     30.6</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> FB     2013-01-10  30.6  31.5  30.3  31.3  95<span style="text-decoration: underline;">316</span>400     31.3</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> FB     2013-01-11  31.3  32.0  31.1  31.7  89<span style="text-decoration: underline;">598</span>000     31.7</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> FB     2013-01-14  32.1  32.2  30.6  31.0  98<span style="text-decoration: underline;">892</span>800     31.0</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> FB     2013-01-15  30.6  31.7  29.9  30.1 173<span style="text-decoration: underline;">242</span>600     30.1</span></span>
<span><span class="co">## <span style="color: #949494;"># … with 746 more rows</span></span></span></code></pre>
</div>
<div class="section level3">
<h3 id="grouped-example">Grouped example<a class="anchor" aria-label="anchor" href="#grouped-example"></a>
</h3>
<p>Working with grouped <code>tbl_time</code> objects is just as you
might expect.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">FANG</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/filter_time.html">filter_time</a></span><span class="op">(</span><span class="st">'2013-01-01'</span> <span class="op">~</span> <span class="st">'2013-01-04'</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A time tibble: 12 × 8</span></span></span>
<span><span class="co">## <span style="color: #949494;"># Index:         date</span></span></span>
<span><span class="co">## <span style="color: #949494;"># Groups:        symbol [4]</span></span></span>
<span><span class="co">##    symbol date        open  high   low close   volume adjusted</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> FB     2013-01-02  27.4  28.2  27.4  28   69<span style="text-decoration: underline;">846</span>400     28  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> FB     2013-01-03  27.9  28.5  27.6  27.8 63<span style="text-decoration: underline;">140</span>600     27.8</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> FB     2013-01-04  28.0  28.9  27.8  28.8 72<span style="text-decoration: underline;">715</span>400     28.8</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> AMZN   2013-01-02 256.  258.  253.  257.   3<span style="text-decoration: underline;">271</span>000    257. </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> AMZN   2013-01-03 257.  261.  256.  258.   2<span style="text-decoration: underline;">750</span>900    258. </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> AMZN   2013-01-04 258.  260.  257.  259.   1<span style="text-decoration: underline;">874</span>200    259. </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> NFLX   2013-01-02  95.2  95.8  90.7  92.0 19<span style="text-decoration: underline;">431</span>300     13.1</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> NFLX   2013-01-03  92.0  97.9  91.5  96.6 27<span style="text-decoration: underline;">912</span>500     13.8</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> NFLX   2013-01-04  96.5  97.7  95.5  96.0 17<span style="text-decoration: underline;">761</span>100     13.7</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> GOOG   2013-01-02 719.  727.  717.  723.   5<span style="text-decoration: underline;">101</span>500    361. </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">11</span> GOOG   2013-01-03 725.  732.  721.  724.   4<span style="text-decoration: underline;">653</span>700    361. </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">12</span> GOOG   2013-01-04 729.  741.  728.  738.   5<span style="text-decoration: underline;">547</span>600    369.</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="finer-periods">Finer periods<a class="anchor" aria-label="anchor" href="#finer-periods"></a>
</h3>
<p>Filtering can also be done by hour / minute / second. Note that the
form of this is slightly different than the standard,
<code>'YYYY-MM-DD HH:MM:SS'</code>.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Dummy example. Every second in a day</span></span>
<span><span class="va">example</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_series.html">create_series</a></span><span class="op">(</span><span class="op">~</span><span class="st">'2013-01-01'</span>, period <span class="op">=</span> <span class="st">'s'</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># The first 2 minutes of the day</span></span>
<span><span class="va">example</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/filter_time.html">filter_time</a></span><span class="op">(</span><span class="st">'2013-01-01'</span> <span class="op">~</span> <span class="st">'2013-01-01 00:02'</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A time tibble: 180 × 1</span></span></span>
<span><span class="co">## <span style="color: #949494;"># Index:         date</span></span></span>
<span><span class="co">##    date               </span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>             </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> 2013-01-01 <span style="color: #949494;">00:00:00</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> 2013-01-01 <span style="color: #949494;">00:00:01</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> 2013-01-01 <span style="color: #949494;">00:00:02</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> 2013-01-01 <span style="color: #949494;">00:00:03</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> 2013-01-01 <span style="color: #949494;">00:00:04</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> 2013-01-01 <span style="color: #949494;">00:00:05</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> 2013-01-01 <span style="color: #949494;">00:00:06</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> 2013-01-01 <span style="color: #949494;">00:00:07</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> 2013-01-01 <span style="color: #949494;">00:00:08</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> 2013-01-01 <span style="color: #949494;">00:00:09</span></span></span>
<span><span class="co">## <span style="color: #949494;"># … with 170 more rows</span></span></span></code></pre>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># 3 specific hours of the day</span></span>
<span><span class="co"># Equivalent to:</span></span>
<span><span class="co"># '2013-01-01 + 03:00:00' ~ '2013-01-01 + 06:59:59'</span></span>
<span><span class="va">example</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/filter_time.html">filter_time</a></span><span class="op">(</span><span class="st">'2013-01-01 3'</span> <span class="op">~</span> <span class="st">'2013-01-01 6'</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A time tibble: 14,400 × 1</span></span></span>
<span><span class="co">## <span style="color: #949494;"># Index:         date</span></span></span>
<span><span class="co">##    date               </span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>             </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> 2013-01-01 <span style="color: #949494;">03:00:00</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> 2013-01-01 <span style="color: #949494;">03:00:01</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> 2013-01-01 <span style="color: #949494;">03:00:02</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> 2013-01-01 <span style="color: #949494;">03:00:03</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> 2013-01-01 <span style="color: #949494;">03:00:04</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> 2013-01-01 <span style="color: #949494;">03:00:05</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> 2013-01-01 <span style="color: #949494;">03:00:06</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> 2013-01-01 <span style="color: #949494;">03:00:07</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> 2013-01-01 <span style="color: #949494;">03:00:08</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> 2013-01-01 <span style="color: #949494;">03:00:09</span></span></span>
<span><span class="co">## <span style="color: #949494;"># … with 14,390 more rows</span></span></span></code></pre>
</div>
<div class="section level3">
<h3 id="syntax">
<code>[</code> syntax<a class="anchor" aria-label="anchor" href="#syntax"></a>
</h3>
<p>For interactive use, to get an even quicker look at a dataset you can
use the traditional extraction operator <code>[</code> with the formula
syntax.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">FB</span><span class="op">[</span><span class="op">~</span><span class="st">'2013'</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A time tibble: 252 × 8</span></span></span>
<span><span class="co">## <span style="color: #949494;"># Index:         date</span></span></span>
<span><span class="co">##    symbol date        open  high   low close    volume adjusted</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> FB     2013-01-02  27.4  28.2  27.4  28    69<span style="text-decoration: underline;">846</span>400     28  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> FB     2013-01-03  27.9  28.5  27.6  27.8  63<span style="text-decoration: underline;">140</span>600     27.8</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> FB     2013-01-04  28.0  28.9  27.8  28.8  72<span style="text-decoration: underline;">715</span>400     28.8</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> FB     2013-01-07  28.7  29.8  28.6  29.4  83<span style="text-decoration: underline;">781</span>800     29.4</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> FB     2013-01-08  29.5  29.6  28.9  29.1  45<span style="text-decoration: underline;">871</span>300     29.1</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> FB     2013-01-09  29.7  30.6  29.5  30.6 104<span style="text-decoration: underline;">787</span>700     30.6</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> FB     2013-01-10  30.6  31.5  30.3  31.3  95<span style="text-decoration: underline;">316</span>400     31.3</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> FB     2013-01-11  31.3  32.0  31.1  31.7  89<span style="text-decoration: underline;">598</span>000     31.7</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> FB     2013-01-14  32.1  32.2  30.6  31.0  98<span style="text-decoration: underline;">892</span>800     31.0</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> FB     2013-01-15  30.6  31.7  29.9  30.1 173<span style="text-decoration: underline;">242</span>600     30.1</span></span>
<span><span class="co">## <span style="color: #949494;"># … with 242 more rows</span></span></span></code></pre>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">FB</span><span class="op">[</span><span class="st">'2013'</span><span class="op">~</span><span class="st">'2014-02'</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A time tibble: 292 × 3</span></span></span>
<span><span class="co">## <span style="color: #949494;"># Index:         date</span></span></span>
<span><span class="co">##    symbol date        open</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> FB     2013-01-02  27.4</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> FB     2013-01-03  27.9</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> FB     2013-01-04  28.0</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> FB     2013-01-07  28.7</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> FB     2013-01-08  29.5</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> FB     2013-01-09  29.7</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> FB     2013-01-10  30.6</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> FB     2013-01-11  31.3</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> FB     2013-01-14  32.1</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> FB     2013-01-15  30.6</span></span>
<span><span class="co">## <span style="color: #949494;"># … with 282 more rows</span></span></span></code></pre>
</div>
<div class="section level3">
<h3 id="using-variables-in-the-filter">Using variables in the filter<a class="anchor" aria-label="anchor" href="#using-variables-in-the-filter"></a>
</h3>
<p>Each side of the time formula is unquoted and evaluated in the
environment that is was created using <code>rlang</code>. This means
that you can use variables inside the call the
<code><a href="../reference/filter_time.html">filter_time()</a></code>.</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">date_var</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2014-01-01"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/filter_time.html">filter_time</a></span><span class="op">(</span><span class="va">FB</span>, <span class="st">'start'</span> <span class="op">~</span> <span class="va">date_var</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A time tibble: 252 × 8</span></span></span>
<span><span class="co">## <span style="color: #949494;"># Index:         date</span></span></span>
<span><span class="co">##    symbol date        open  high   low close    volume adjusted</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> FB     2013-01-02  27.4  28.2  27.4  28    69<span style="text-decoration: underline;">846</span>400     28  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> FB     2013-01-03  27.9  28.5  27.6  27.8  63<span style="text-decoration: underline;">140</span>600     27.8</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> FB     2013-01-04  28.0  28.9  27.8  28.8  72<span style="text-decoration: underline;">715</span>400     28.8</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> FB     2013-01-07  28.7  29.8  28.6  29.4  83<span style="text-decoration: underline;">781</span>800     29.4</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> FB     2013-01-08  29.5  29.6  28.9  29.1  45<span style="text-decoration: underline;">871</span>300     29.1</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> FB     2013-01-09  29.7  30.6  29.5  30.6 104<span style="text-decoration: underline;">787</span>700     30.6</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> FB     2013-01-10  30.6  31.5  30.3  31.3  95<span style="text-decoration: underline;">316</span>400     31.3</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> FB     2013-01-11  31.3  32.0  31.1  31.7  89<span style="text-decoration: underline;">598</span>000     31.7</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> FB     2013-01-14  32.1  32.2  30.6  31.0  98<span style="text-decoration: underline;">892</span>800     31.0</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> FB     2013-01-15  30.6  31.7  29.9  30.1 173<span style="text-decoration: underline;">242</span>600     30.1</span></span>
<span><span class="co">## <span style="color: #949494;"># … with 242 more rows</span></span></span></code></pre>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">date_char</span> <span class="op">&lt;-</span> <span class="st">"2014-02"</span></span>
<span><span class="fu"><a href="../reference/filter_time.html">filter_time</a></span><span class="op">(</span><span class="va">FB</span>, <span class="op">~</span> <span class="va">date_char</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A time tibble: 19 × 8</span></span></span>
<span><span class="co">## <span style="color: #949494;"># Index:         date</span></span></span>
<span><span class="co">##    symbol date        open  high   low close    volume adjusted</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> FB     2014-02-03  63.0  63.8  60.7  61.5  74<span style="text-decoration: underline;">866</span>600     61.5</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> FB     2014-02-04  62.0  63.1  61.8  62.8  45<span style="text-decoration: underline;">985</span>500     62.8</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> FB     2014-02-05  62.7  63.2  61.3  62.2  51<span style="text-decoration: underline;">685</span>100     62.2</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> FB     2014-02-06  61.5  62.8  61.5  62.2  42<span style="text-decoration: underline;">086</span>500     62.2</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> FB     2014-02-07  62.3  64.6  62.2  64.3  60<span style="text-decoration: underline;">704</span>300     64.3</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> FB     2014-02-10  64.3  64.5  63.5  63.5  43<span style="text-decoration: underline;">666</span>100     63.5</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> FB     2014-02-11  63.8  65    63.3  64.8  45<span style="text-decoration: underline;">675</span>600     64.8</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> FB     2014-02-12  64.9  65.1  64.1  64.4  47<span style="text-decoration: underline;">282</span>100     64.4</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> FB     2014-02-13  64.2  67.3  64.1  67.3  61<span style="text-decoration: underline;">911</span>700     67.3</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> FB     2014-02-14  67.5  67.6  66.7  67.1  36<span style="text-decoration: underline;">694</span>900     67.1</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">11</span> FB     2014-02-18  66.9  67.5  66.1  67.3  43<span style="text-decoration: underline;">809</span>900     67.3</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">12</span> FB     2014-02-19  67.1  69.1  67    68.1  62<span style="text-decoration: underline;">087</span>100     68.1</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">13</span> FB     2014-02-20  67.7  70.1  65.7  69.6 130<span style="text-decoration: underline;">928</span>900     69.6</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">14</span> FB     2014-02-21  69.7  70.0  68.4  68.6  70<span style="text-decoration: underline;">932</span>400     68.6</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">15</span> FB     2014-02-24  68.7  71.4  68.5  70.8  76<span style="text-decoration: underline;">620</span>300     70.8</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">16</span> FB     2014-02-25  70.9  71    69.4  69.8  52<span style="text-decoration: underline;">077</span>000     69.8</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">17</span> FB     2014-02-26  70.2  71.2  68.8  69.3  55<span style="text-decoration: underline;">322</span>700     69.3</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">18</span> FB     2014-02-27  69.3  70.0  68.9  68.9  41<span style="text-decoration: underline;">653</span>700     68.9</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">19</span> FB     2014-02-28  69.5  69.9  67.4  68.5  66<span style="text-decoration: underline;">783</span>700     68.5</span></span></code></pre>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Davis Vaughan, Matt Dancho.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
